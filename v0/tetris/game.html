<!DOCTYPE html><html><head><title>Basic Tetris Game-U8K50</title><meta name="robots" content="noindex, nofollow"><meta charset="UTF-8"><style>body,html{height:100%;margin:0}body{background:#000;display:flex;align-items:center;justify-content:center;cursor:url('/cursor.cur'),default}canvas{border:1px solid #fff}</style><link href="./img/android-chrome-512x512.png" rel="icon"><link href="./img/apple-touch-icon.png" rel="apple-touch-icon"></head><body><canvas width="320" height="640" id="game"></canvas><script>function getRandomInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function generateSequence(){const t=["I","J","L","O","S","T","Z"];for(;t.length;){const e=getRandomInt(0,t.length-1),o=t.splice(e,1)[0];tetrominoSequence.push(o)}}function getNextTetromino(){0===tetrominoSequence.length&&generateSequence();const t=tetrominoSequence.pop(),e=tetrominos[t];return{name:t,matrix:e,row:"I"===t?-1:-2,col:playfield[0].length/2-Math.ceil(e[0].length/2)}}function rotate(t){const e=t.length-1;return t.map(((o,n)=>o.map(((o,i)=>t[e-i][n]))))}function isValidMove(t,e,o){for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)if(t[n][i]&&(o+i<0||o+i>=playfield[0].length||e+n>=playfield.length||playfield[e+n][o+i]))return!1;return!0}function placeTetromino(){for(let t=0;t<tetromino.matrix.length;t++)for(let e=0;e<tetromino.matrix[t].length;e++)if(tetromino.matrix[t][e]){if(tetromino.row+t<0)return showGameOver();playfield[tetromino.row+t][tetromino.col+e]=tetromino.name}for(let t=playfield.length-1;t>=0;)if(playfield[t].every((t=>!!t)))for(let e=t;e>=0;e--)for(let t=0;t<playfield[e].length;t++)playfield[e][t]=playfield[e-1][t];else t--;tetromino=getNextTetromino()}function showGameOver(){cancelAnimationFrame(rAF),gameOver=!0,context.fillStyle="black",context.globalAlpha=.75,context.fillRect(0,canvas.height/2-30,canvas.width,60),context.globalAlpha=1,context.fillStyle="white",context.font="36px monospace",context.textAlign="center",context.textBaseline="middle",context.fillText("GAME OVER!",canvas.width/2,canvas.height/2)}const canvas=document.getElementById("game"),context=canvas.getContext("2d"),grid=32,tetrominoSequence=[],playfield=[];for(let t=-2;t<20;t++){playfield[t]=[];for(let e=0;e<10;e++)playfield[t][e]=0}const tetrominos={I:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],J:[[1,0,0],[1,1,1],[0,0,0]],L:[[0,0,1],[1,1,1],[0,0,0]],O:[[1,1],[1,1]],S:[[0,1,1],[1,1,0],[0,0,0]],Z:[[1,1,0],[0,1,1],[0,0,0]],T:[[0,1,0],[1,1,1],[0,0,0]]},colors={I:"cyan",O:"yellow",T:"purple",S:"green",Z:"red",J:"blue",L:"orange"};let count=0,tetromino=getNextTetromino(),rAF=null,gameOver=!1;function loop(){rAF=requestAnimationFrame(loop),context.clearRect(0,0,canvas.width,canvas.height);for(let t=0;t<20;t++)for(let e=0;e<10;e++)if(playfield[t][e]){const o=playfield[t][e];context.fillStyle=colors[o],context.fillRect(32*e,32*t,31,31)}if(tetromino){++count>35&&(tetromino.row++,count=0,isValidMove(tetromino.matrix,tetromino.row,tetromino.col)||(tetromino.row--,placeTetromino())),context.fillStyle=colors[tetromino.name];for(let t=0;t<tetromino.matrix.length;t++)for(let e=0;e<tetromino.matrix[t].length;e++)tetromino.matrix[t][e]&&context.fillRect(32*(tetromino.col+e),32*(tetromino.row+t),31,31)}}document.addEventListener("keydown",(function(t){if(!gameOver){if(37===t.which||39===t.which){const e=37===t.which?tetromino.col-1:tetromino.col+1;isValidMove(tetromino.matrix,tetromino.row,e)&&(tetromino.col=e)}if(38===t.which){const t=rotate(tetromino.matrix);isValidMove(t,tetromino.row,tetromino.col)&&(tetromino.matrix=t)}if(40===t.which){const t=tetromino.row+1;if(!isValidMove(tetromino.matrix,t,tetromino.col))return tetromino.row=t-1,void placeTetromino();tetromino.row=t}}})),rAF=requestAnimationFrame(loop)</script><script>document.addEventListener("contextmenu",(e=>e.preventDefault()))</script></body></html>